LOGMODE
=======
For some variables it is natural to assume a log-normal distribution,
this applies typically to the permeability and multiplicators like
MULTPV and MULTZ/MULTFLT. If the actual distribution of 'x' is taken
to be log-normal, log(x) will be normally distributed, and it is
natural to use log(x) for enkf updates.

For variables which (might) be log-normally distributed we have
identified three stages in a variables life, and the question of
wether to use log variables or absolute variables can be taken
independently at all stages:

 Input: Has the log operation already been taken before the data are
        loaded into the EnKF application? In the case of for instance
        permeability this would amount to loading log(perm).

        For quantities like MULTZ and MULTFLT where we do not load
        individual realisations, but rather the mean and std of a
        distribution, this signifies whether the spesifed mean and std
        are of the actual variable x, or of log(x).
        logmode_input = 1.

        

 EnKF:  Should log(x) be used in the EnKF update.
        logmode_enkf = 2


 Output:Should the data be re-exponentiated before the results are
        displayed?
        logmode_output = 4	

 

The logmode variable is specified as an integer in the range 0..7:

logmode = A*logmode_input +  B*logmode_enkf  + C*logmode_output

Where the variabels A,B and C are 0 or 1 whether the actual logmode
should be employed or not? For instance

Example:
logmode = 2  =>  logmode_enkf
logmode = 3  =>  logmode_input + logmode_enkf




MULTZ Estimation
================
On startup the program looks for MULTZ configuration in the file
$ConfigPath/multz_config.txt, the format of this file is as follow:

k  mean  std  logmode  (i1  i2   j1   j2)

The variables have the following meaning:
 
 k/Integer: The layer we are estimating on.
 
 mean/real: The mean value in the prior ensemble.
 
 std/real : The standard deviation in the prior ensemble.
 
 logmode/integer: An integer flag variabel indicating whether the
 normal distribution or lognormal distribution is used [see: LOGMODE].

 The variables i1,i2,j1,j2 are the dimensions of the box we are
 estimating on; as indicated with the paranthesis above they are
 optional, if they are left out they will default to include the full
 box. If the supplied values are outside the grid domain, default
 values are used.


Example file:
4  0.001   0.0005   2 
8  0.001   0.0005   2
12 0.0001  0.00005  2  1 10  1 20

In this example we are estimating on three MULTZ multipliers, located
at the layers 4, 8 and 12. The multipliers at layers 4 and 8 cover the
whole area of the grid, whereas the multiplier at layer 12 is only on
the section i: 1-10, j: 1-20. 

Observe that this example file contains three lines, this *MUST*
coincide with the value of num_multz in mod_dimensions.F90. (This is
checked for - and the program will abort if it does not agree.).

Observe that the actual implementation of the multz object is written
in C, and is in the libenkf library.








