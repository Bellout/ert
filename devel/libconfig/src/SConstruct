import os
import os.path
import sys
sys.path += ["../../build"]
import global_config
from   global_config import LIBUTIL

conf = global_config.get_conf(os.getcwd() , 2)
env  = Environment()
conf.update_env( env , [ LIBUTIL ] , link = False)

src_list    = Split("config.c conf.c conf_util.c conf_data.c")
header_list = Split("config.h conf.h conf_data.h")


LIB = env.StaticLibrary("config" , src_list)

lib_path     = "../lib"
include_path = "../include"
env.InstallLibrary(lib_path , LIB)
env.InstallHeader(include_path , header_list)
install = env.Alias('install',[lib_path , include_path])


##################################################################



env.InstallHeader(conf.SDP_LIB , header_list)
env.InstallLibrary(conf.SDP_LIB , LIB )
SDP_INSTALL = env.Alias('SDP_INSTALL' , [ lib_path , include_path , conf.SDP_LIB , conf.SDP_INCLUDE])

Default( install )
