import os
import os.path
import sys
sys.path += ["../../scons-config"]
import global_config
from   global_config import LIBUTIL
from   global_config import LIBECL
from   global_config import LIBGEOMETRY
from   global_config import add_static_library
from   global_config import add_shared_library
from   global_config import add_header
from   global_config import get_target

package      = "ecl"
lib_path     = "../lib"
slib_path     = "../slib"
include_path = "../include"
bin_path     = "../bin"  

conf = global_config.get_conf(os.getcwd() , package , 2)
env  = Environment()
conf.update_env( env , [ LIBGEOMETRY , LIBECL , LIBUTIL] , link = False)




src_list = Split("ecl_rst_file.c ecl_init_file.c ecl_grid_cache.c smspec_node.c ecl_intehead.c ecl_kw_grdecl.c ecl_file_kw.c ecl_grav.c ecl_grav_calc.c ecl_smspec.c ecl_sum_data.c ecl_util.c ecl_kw.c ecl_sum.c fortio.c ecl_rft_file.c ecl_rft_node.c ecl_grid.c ecl_box.c ecl_io_config.c ecl_file.c ecl_region.c point.c tetrahedron.c ecl_subsidence.c ecl_grav_common.c")
src_list.append( Glob("ext/*.c") )

# tetrahedron.h and point.h are not installed.
header_list = Split("ecl_rst_file.h ecl_init_file.h ecl_grid_cache.h smspec_node.h ecl_intehead.h ecl_kw_grdecl.h ecl_file_kw.h ecl_grav.h ecl_grav_calc.h ecl_endian_flip.h ecl_smspec.h ecl_sum_data.h ecl_util.h ecl_kw.h ecl_sum.h fortio.h ecl_rft_file.h ecl_rft_node.h ecl_box.h ecl_grid.h ecl_io_config.h ecl_file.h ecl_region.h ecl_kw_magic.h ecl_subsidence.h ecl_grav_common.h")
header_list.append( Glob("ext/*.h") ) 


add_static_library( env , conf , lib_path , package , src_list)
add_shared_library( env , conf , slib_path , package , src_list)
add_header( env , conf , include_path , header_list )

Default( lib_path , include_path , slib_path )

